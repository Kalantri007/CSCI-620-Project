{"ast":null,"code":"var _jsxFileName = \"/home/vkalantri/CSCI-620-Project/chess_app/frontend/src/pages/HomePage.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport api from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst HomePage = () => {\n  _s();\n  const [games, setGames] = useState([]);\n  const [invitations, setInvitations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [username, setUsername] = useState('');\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState('');\n  const [showNewGameModal, setShowNewGameModal] = useState(false);\n  const [lobbySocket, setLobbySocket] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    // Check if user is authenticated\n    const token = localStorage.getItem('authToken');\n    const storedUsername = localStorage.getItem('username');\n    if (token && storedUsername) {\n      setIsAuthenticated(true);\n      setUsername(storedUsername);\n\n      // Fetch active games, invitations, and online users\n      fetchGames();\n      fetchInvitations();\n      fetchUsers();\n\n      // Set up WebSocket connection for lobby\n      setupLobbyWebSocket();\n    } else {\n      setLoading(false);\n    }\n    return () => {\n      // Clean up WebSocket connection\n      if (lobbySocket) {\n        lobbySocket.close();\n      }\n    };\n  }, []);\n  const setupLobbyWebSocket = () => {\n    const wsScheme = window.location.protocol === 'https:' ? 'wss://' : 'ws://';\n    const socket = new WebSocket(`${wsScheme}${window.location.host}/ws/lobby/`);\n    socket.onopen = () => {\n      console.log('Lobby WebSocket connected');\n    };\n    socket.onmessage = e => {\n      const data = JSON.parse(e.data);\n      if (data.type === 'challenge') {\n        // Received a game challenge\n        fetchInvitations(); // Refresh invitations list\n      } else if (data.type === 'challenge_response') {\n        // Someone responded to a challenge\n        fetchGames(); // Refresh games list\n        fetchInvitations(); // Refresh invitations list\n      } else if (data.type === 'user_online' || data.type === 'user_offline') {\n        // User status changed\n        fetchUsers(); // Refresh users list\n      }\n    };\n    socket.onclose = () => {\n      console.log('Lobby WebSocket disconnected');\n    };\n    setLobbySocket(socket);\n  };\n  const fetchGames = async () => {\n    try {\n      const data = await api.getGames();\n      setGames(data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching games:', error);\n      setError('Failed to load games');\n      setLoading(false);\n    }\n  };\n  const fetchInvitations = async () => {\n    try {\n      const data = await api.getInvitations();\n      setInvitations(data);\n    } catch (error) {\n      console.error('Error fetching invitations:', error);\n    }\n  };\n  const fetchUsers = async () => {\n    try {\n      const data = await api.getUsers();\n      // Filter out current user\n      setUsers(data.filter(user => user.username !== username));\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    }\n  };\n  const handleLogout = async () => {\n    try {\n      await api.logout();\n      localStorage.removeItem('authToken');\n      localStorage.removeItem('username');\n      setIsAuthenticated(false);\n    } catch (error) {\n      console.error('Error during logout:', error);\n    }\n  };\n  const handleCreateGame = async () => {\n    if (!selectedUser) {\n      alert('Please select an opponent');\n      return;\n    }\n    try {\n      await api.createInvitation({\n        recipient: selectedUser\n      });\n      setShowNewGameModal(false);\n      setSelectedUser('');\n      fetchInvitations();\n    } catch (error) {\n      console.error('Error creating game invitation:', error);\n      alert('Failed to create game invitation. Please try again.');\n    }\n  };\n  const handleAcceptInvitation = async invitationId => {\n    try {\n      const game = await api.acceptInvitation(invitationId);\n      navigate(`/game/${game.id}`);\n    } catch (error) {\n      console.error('Error accepting invitation:', error);\n      alert('Failed to accept invitation. Please try again.');\n    }\n  };\n  const handleDeclineInvitation = async invitationId => {\n    try {\n      await api.declineInvitation(invitationId);\n      fetchInvitations();\n    } catch (error) {\n      console.error('Error declining invitation:', error);\n      alert('Failed to decline invitation. Please try again.');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-page\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"app-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Chess App\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 9\n      }, this), isAuthenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"user-controls\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Welcome, \", username, \"!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 164,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: handleLogout,\n          className: \"logout-btn\",\n          children: \"Logout\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"auth-links\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/login\",\n          className: \"btn\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 169,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(Link, {\n          to: \"/register\",\n          className: \"btn\",\n          children: \"Register\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 168,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), isAuthenticated ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"dashboard\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"games-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"section-header\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Your Active Games\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 179,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setShowNewGameModal(true),\n            className: \"create-game-btn\",\n            children: \"Start New Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 13\n        }, this), loading ? /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Loading games...\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 189,\n          columnNumber: 15\n        }, this) : error ? /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"error-message\",\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 15\n        }, this) : games.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-list\",\n          children: games.filter(game => game.status === 'active').map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"players\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"white-player\",\n                  children: game.white_player.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 200,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \" vs \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 201,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"black-player\",\n                  children: game.black_player.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 202,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 199,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"game-status\",\n                children: game.fen.split(' ')[1] === 'w' ? \"White's turn\" : \"Black's turn\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 204,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 198,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/game/${game.id}`,\n              className: \"join-game-btn\",\n              children: \"Join Game\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 208,\n              columnNumber: 23\n            }, this)]\n          }, game.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No active games found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 215,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"invitations-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Game Invitations\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 220,\n          columnNumber: 13\n        }, this), invitations.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"invitation-list\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Received Invitations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 17\n          }, this), invitations.filter(inv => inv.recipient.username === username && inv.status === 'pending').map(invitation => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invitation-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"From: \", invitation.sender.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"invitation-actions\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleAcceptInvitation(invitation.id),\n                className: \"accept-btn\",\n                children: \"Accept\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: () => handleDeclineInvitation(invitation.id),\n                className: \"decline-btn\",\n                children: \"Decline\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 236,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 229,\n              columnNumber: 23\n            }, this)]\n          }, invitation.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 227,\n            columnNumber: 21\n          }, this)), /*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Sent Invitations\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 17\n          }, this), invitations.filter(inv => inv.sender.username === username && inv.status === 'pending').map(invitation => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"invitation-item\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"To: \", invitation.recipient.username]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Status: Pending\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 23\n            }, this)]\n          }, invitation.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 21\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No invitations found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 219,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"completed-games-section\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Completed Games\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 262,\n          columnNumber: 13\n        }, this), games.filter(game => game.status === 'finished').length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"game-list\",\n          children: games.filter(game => game.status === 'finished').map(game => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"game-item completed\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"game-details\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"players\",\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"white-player\",\n                  children: game.white_player.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 273,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  children: \" vs \"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: \"black-player\",\n                  children: game.black_player.username\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 275,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"game-result\",\n                children: game.result === 'white_win' ? 'White won' : game.result === 'black_win' ? 'Black won' : 'Draw'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 23\n            }, this), /*#__PURE__*/_jsxDEV(Link, {\n              to: `/game/${game.id}`,\n              className: \"view-game-btn\",\n              children: \"View Game\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 282,\n              columnNumber: 23\n            }, this)]\n          }, game.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 15\n        }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No completed games found.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 11\n      }, this), showNewGameModal && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal-overlay\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Start New Game\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 296,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"opponent\",\n              children: \"Select Opponent:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 298,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              id: \"opponent\",\n              value: selectedUser,\n              onChange: e => setSelectedUser(e.target.value),\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"\",\n                children: \"Select an opponent\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 304,\n                columnNumber: 21\n              }, this), users.map(user => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: user.id,\n                children: user.username\n              }, user.id, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 23\n              }, this))]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 299,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 297,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCreateGame,\n              disabled: !selectedUser,\n              className: \"create-btn\",\n              children: \"Send Invitation\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => setShowNewGameModal(false),\n              className: \"cancel-btn\",\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 318,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"welcome-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Welcome to Chess App!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"Please log in or register to start playing.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 332,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n};\n_s(HomePage, \"kNX2Jcszfy2g4CWF8G4q5dxS0NQ=\", false, function () {\n  return [useNavigate];\n});\n_c = HomePage;\nexport default HomePage;\nvar _c;\n$RefreshReg$(_c, \"HomePage\");","map":{"version":3,"names":["React","useEffect","useState","Link","useNavigate","api","jsxDEV","_jsxDEV","HomePage","_s","games","setGames","invitations","setInvitations","loading","setLoading","error","setError","isAuthenticated","setIsAuthenticated","username","setUsername","users","setUsers","selectedUser","setSelectedUser","showNewGameModal","setShowNewGameModal","lobbySocket","setLobbySocket","navigate","token","localStorage","getItem","storedUsername","fetchGames","fetchInvitations","fetchUsers","setupLobbyWebSocket","close","wsScheme","window","location","protocol","socket","WebSocket","host","onopen","console","log","onmessage","e","data","JSON","parse","type","onclose","getGames","getInvitations","getUsers","filter","user","handleLogout","logout","removeItem","handleCreateGame","alert","createInvitation","recipient","handleAcceptInvitation","invitationId","game","acceptInvitation","id","handleDeclineInvitation","declineInvitation","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","to","length","status","map","white_player","black_player","fen","split","inv","invitation","sender","result","htmlFor","value","onChange","target","disabled","_c","$RefreshReg$"],"sources":["/home/vkalantri/CSCI-620-Project/chess_app/frontend/src/pages/HomePage.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport api from '../services/api';\n\nconst HomePage = () => {\n  const [games, setGames] = useState([]);\n  const [invitations, setInvitations] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [isAuthenticated, setIsAuthenticated] = useState(false);\n  const [username, setUsername] = useState('');\n  const [users, setUsers] = useState([]);\n  const [selectedUser, setSelectedUser] = useState('');\n  const [showNewGameModal, setShowNewGameModal] = useState(false);\n  const [lobbySocket, setLobbySocket] = useState(null);\n  \n  const navigate = useNavigate();\n\n  useEffect(() => {\n    // Check if user is authenticated\n    const token = localStorage.getItem('authToken');\n    const storedUsername = localStorage.getItem('username');\n    \n    if (token && storedUsername) {\n      setIsAuthenticated(true);\n      setUsername(storedUsername);\n      \n      // Fetch active games, invitations, and online users\n      fetchGames();\n      fetchInvitations();\n      fetchUsers();\n      \n      // Set up WebSocket connection for lobby\n      setupLobbyWebSocket();\n    } else {\n      setLoading(false);\n    }\n    \n    return () => {\n      // Clean up WebSocket connection\n      if (lobbySocket) {\n        lobbySocket.close();\n      }\n    };\n  }, []);\n\n  const setupLobbyWebSocket = () => {\n    const wsScheme = window.location.protocol === 'https:' ? 'wss://' : 'ws://';\n    const socket = new WebSocket(`${wsScheme}${window.location.host}/ws/lobby/`);\n    \n    socket.onopen = () => {\n      console.log('Lobby WebSocket connected');\n    };\n    \n    socket.onmessage = (e) => {\n      const data = JSON.parse(e.data);\n      \n      if (data.type === 'challenge') {\n        // Received a game challenge\n        fetchInvitations(); // Refresh invitations list\n      } else if (data.type === 'challenge_response') {\n        // Someone responded to a challenge\n        fetchGames(); // Refresh games list\n        fetchInvitations(); // Refresh invitations list\n      } else if (data.type === 'user_online' || data.type === 'user_offline') {\n        // User status changed\n        fetchUsers(); // Refresh users list\n      }\n    };\n    \n    socket.onclose = () => {\n      console.log('Lobby WebSocket disconnected');\n    };\n    \n    setLobbySocket(socket);\n  };\n\n  const fetchGames = async () => {\n    try {\n      const data = await api.getGames();\n      setGames(data);\n      setLoading(false);\n    } catch (error) {\n      console.error('Error fetching games:', error);\n      setError('Failed to load games');\n      setLoading(false);\n    }\n  };\n  \n  const fetchInvitations = async () => {\n    try {\n      const data = await api.getInvitations();\n      setInvitations(data);\n    } catch (error) {\n      console.error('Error fetching invitations:', error);\n    }\n  };\n  \n  const fetchUsers = async () => {\n    try {\n      const data = await api.getUsers();\n      // Filter out current user\n      setUsers(data.filter(user => user.username !== username));\n    } catch (error) {\n      console.error('Error fetching users:', error);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      await api.logout();\n      localStorage.removeItem('authToken');\n      localStorage.removeItem('username');\n      setIsAuthenticated(false);\n    } catch (error) {\n      console.error('Error during logout:', error);\n    }\n  };\n\n  const handleCreateGame = async () => {\n    if (!selectedUser) {\n      alert('Please select an opponent');\n      return;\n    }\n\n    try {\n      await api.createInvitation({ recipient: selectedUser });\n      setShowNewGameModal(false);\n      setSelectedUser('');\n      fetchInvitations();\n    } catch (error) {\n      console.error('Error creating game invitation:', error);\n      alert('Failed to create game invitation. Please try again.');\n    }\n  };\n\n  const handleAcceptInvitation = async (invitationId) => {\n    try {\n      const game = await api.acceptInvitation(invitationId);\n      navigate(`/game/${game.id}`);\n    } catch (error) {\n      console.error('Error accepting invitation:', error);\n      alert('Failed to accept invitation. Please try again.');\n    }\n  };\n\n  const handleDeclineInvitation = async (invitationId) => {\n    try {\n      await api.declineInvitation(invitationId);\n      fetchInvitations();\n    } catch (error) {\n      console.error('Error declining invitation:', error);\n      alert('Failed to decline invitation. Please try again.');\n    }\n  };\n\n  return (\n    <div className=\"home-page\">\n      <header className=\"app-header\">\n        <h1>Chess App</h1>\n        \n        {isAuthenticated ? (\n          <div className=\"user-controls\">\n            <span>Welcome, {username}!</span>\n            <button onClick={handleLogout} className=\"logout-btn\">Logout</button>\n          </div>\n        ) : (\n          <div className=\"auth-links\">\n            <Link to=\"/login\" className=\"btn\">Login</Link>\n            <Link to=\"/register\" className=\"btn\">Register</Link>\n          </div>\n        )}\n      </header>\n\n      {isAuthenticated ? (\n        <div className=\"dashboard\">\n          <div className=\"games-section\">\n            <div className=\"section-header\">\n              <h2>Your Active Games</h2>\n              <button \n                onClick={() => setShowNewGameModal(true)} \n                className=\"create-game-btn\"\n              >\n                Start New Game\n              </button>\n            </div>\n\n            {loading ? (\n              <p>Loading games...</p>\n            ) : error ? (\n              <p className=\"error-message\">{error}</p>\n            ) : games.length > 0 ? (\n              <div className=\"game-list\">\n                {games\n                  .filter(game => game.status === 'active')\n                  .map(game => (\n                    <div key={game.id} className=\"game-item\">\n                      <div className=\"game-details\">\n                        <div className=\"players\">\n                          <span className=\"white-player\">{game.white_player.username}</span>\n                          <span> vs </span>\n                          <span className=\"black-player\">{game.black_player.username}</span>\n                        </div>\n                        <div className=\"game-status\">\n                          {game.fen.split(' ')[1] === 'w' ? \"White's turn\" : \"Black's turn\"}\n                        </div>\n                      </div>\n                      <Link to={`/game/${game.id}`} className=\"join-game-btn\">\n                        Join Game\n                      </Link>\n                    </div>\n                  ))}\n              </div>\n            ) : (\n              <p>No active games found.</p>\n            )}\n          </div>\n\n          <div className=\"invitations-section\">\n            <h2>Game Invitations</h2>\n            {invitations.length > 0 ? (\n              <div className=\"invitation-list\">\n                <h3>Received Invitations</h3>\n                {invitations\n                  .filter(inv => inv.recipient.username === username && inv.status === 'pending')\n                  .map(invitation => (\n                    <div key={invitation.id} className=\"invitation-item\">\n                      <p>From: {invitation.sender.username}</p>\n                      <div className=\"invitation-actions\">\n                        <button \n                          onClick={() => handleAcceptInvitation(invitation.id)}\n                          className=\"accept-btn\"\n                        >\n                          Accept\n                        </button>\n                        <button \n                          onClick={() => handleDeclineInvitation(invitation.id)}\n                          className=\"decline-btn\"\n                        >\n                          Decline\n                        </button>\n                      </div>\n                    </div>\n                  ))}\n                \n                <h3>Sent Invitations</h3>\n                {invitations\n                  .filter(inv => inv.sender.username === username && inv.status === 'pending')\n                  .map(invitation => (\n                    <div key={invitation.id} className=\"invitation-item\">\n                      <p>To: {invitation.recipient.username}</p>\n                      <p>Status: Pending</p>\n                    </div>\n                  ))}\n              </div>\n            ) : (\n              <p>No invitations found.</p>\n            )}\n          </div>\n          \n          <div className=\"completed-games-section\">\n            <h2>Completed Games</h2>\n            {games\n              .filter(game => game.status === 'finished')\n              .length > 0 ? (\n              <div className=\"game-list\">\n                {games\n                  .filter(game => game.status === 'finished')\n                  .map(game => (\n                    <div key={game.id} className=\"game-item completed\">\n                      <div className=\"game-details\">\n                        <div className=\"players\">\n                          <span className=\"white-player\">{game.white_player.username}</span>\n                          <span> vs </span>\n                          <span className=\"black-player\">{game.black_player.username}</span>\n                        </div>\n                        <div className=\"game-result\">\n                          {game.result === 'white_win' ? 'White won' : \n                           game.result === 'black_win' ? 'Black won' : 'Draw'}\n                        </div>\n                      </div>\n                      <Link to={`/game/${game.id}`} className=\"view-game-btn\">\n                        View Game\n                      </Link>\n                    </div>\n                  ))}\n              </div>\n            ) : (\n              <p>No completed games found.</p>\n            )}\n          </div>\n\n          {showNewGameModal && (\n            <div className=\"modal-overlay\">\n              <div className=\"modal\">\n                <h2>Start New Game</h2>\n                <div className=\"form-group\">\n                  <label htmlFor=\"opponent\">Select Opponent:</label>\n                  <select \n                    id=\"opponent\"\n                    value={selectedUser}\n                    onChange={(e) => setSelectedUser(e.target.value)}\n                  >\n                    <option value=\"\">Select an opponent</option>\n                    {users.map(user => (\n                      <option key={user.id} value={user.id}>{user.username}</option>\n                    ))}\n                  </select>\n                </div>\n                <div className=\"modal-actions\">\n                  <button \n                    onClick={handleCreateGame} \n                    disabled={!selectedUser}\n                    className=\"create-btn\"\n                  >\n                    Send Invitation\n                  </button>\n                  <button \n                    onClick={() => setShowNewGameModal(false)}\n                    className=\"cancel-btn\"\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      ) : (\n        <div className=\"welcome-section\">\n          <h2>Welcome to Chess App!</h2>\n          <p>Please log in or register to start playing.</p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default HomePage;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}